const { Model, DataTypes } = require('sequelize');
const sequelize = require('../config/connection.js');

class User extends Model {}

User.init(
    {
          username: {
            type: String,
            unique: true,
            requried: true,
            trimmed: true,
          },
          email: {
            type: String,
            requried: true,
            unique: true,
            validate: {
                validator: () => Promise.resolve(false),
                    message: 'Email validation failed'
                },
            
            },
            thoughts: [
                {
                    type: Schema.Types.ObjectId,
                    ref: 'Thought'
                }
            ],
            friends: [
                {
                    type: Schema.Types.ObjectId,
                    ref: 'User'
                }
            ]
    },
    
    {
       
      }
);